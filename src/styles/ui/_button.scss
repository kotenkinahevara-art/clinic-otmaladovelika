@use '../helpers/media' as media;
@use '../helpers/functions' as f;

.btn {
  --btn-bg: var(--color-light);
  --btn-fg: var(--color-dark);

  position: relative;
  isolation: isolate;
  overflow: hidden;
  border: 0;
  border-radius: var(--radius-pill);
  font-size: var(--font-size-body);
  font-family: var(--font-family-accent);
  font-weight: 500;
  color: var(--btn-fg);
  cursor: pointer;
  background: transparent;
  transition: color var(--transition-duration);

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: var(--btn-bg);
    transform-origin: center;
    z-index: -1;
    pointer-events: none;
    transition: background-color var(--transition-duration), transform var(--transition-duration);
  }

  @include media.hover(false) {
    &::before {
      animation: btn-bg-soft var(--anim-bounce-duration) ease-out both;
    }
  }

  &:focus-visible::before {
    animation: btn-bg-soft var(--anim-bounce-duration) ease-out both;
  }

  > * {
    position: relative;
    z-index: 1;
  }

  &__link {
    font: inherit;
    font-weight: inherit;
    color: inherit;
    text-decoration: none;
  }
}

// Варианты кнопок

.btn--primary {
  --btn-bg: var(--color-light);
  --btn-fg: var(--color-dark);
}

.btn--secondary {
  --btn-bg: var(--color-light);
  --btn-fg: var(--color-dark);
}

.btn--cta {
  --btn-bg: var(--color-orange);
  --btn-fg: var(--color-light);
}



.btn--violet {
  --btn-bg: var(--color-violet);
  --btn-fg: var(--color-light);
}

// Размеры кнопок

.btn--sm {
  padding: var(--space-14) var(--space-20);
  max-width: f.fluid(200, 170);
}

.btn--md {
  padding: f.fluid(16, 10) f.fluid(55, 35);

  @include media.mobile-s {
    padding: f.fluid(16, 14);
  }
}

.btn--xl {
  padding: f.fluid(16, 14);

  @include media.mobile {
    margin-top: f.fluid(10, 25);
  }
}

@include media.mobile {
  .btn {
    width: 100%;
    max-width: none;
  }
}

// Анимация фонового слоя кнопки

@keyframes btn-bg-soft {
  0% {
    transform: scale(1);
  }
  38% {
    transform: scale(1.03, 0.97);
  }
  68% {
    transform: scale(0.995, 1.005);
  }
  100% {
    transform: scale(1);
  }
}





